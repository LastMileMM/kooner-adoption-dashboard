<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kooner Adoption Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
    <style>
        :root{--bg-dark:#0a0a0f;--bg-card:#12121a;--bg-card-hover:#1a1a25;--accent-green:#00ff88;--accent-red:#ff4757;--accent-orange:#ffa502;--accent-blue:#3742fa;--accent-purple:#a855f7;--accent-cyan:#00d4ff;--accent-yellow:#ffd93d;--text-primary:#ffffff;--text-secondary:#8b8b9a;--text-muted:#4a4a5a;--border-color:#2a2a3a}
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:'Space Grotesk',sans-serif;background:var(--bg-dark);color:var(--text-primary);min-height:100vh}
        .bg-grid{position:fixed;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(rgba(55,66,250,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(55,66,250,0.03) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}
        .container{position:relative;z-index:1;max-width:1600px;margin:0 auto;padding:24px}
        .header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid var(--border-color)}
        .header-left h1{font-size:2.5rem;font-weight:700;letter-spacing:-0.02em;margin-bottom:8px;background:linear-gradient(135deg,#fff 0%,#8b8b9a 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
        .header-left .subtitle{color:var(--text-secondary);font-size:1rem;display:flex;align-items:center;gap:12px}
        .target-badge{background:linear-gradient(135deg,var(--accent-green),#00cc6a);color:#000;padding:4px 12px;border-radius:20px;font-weight:600;font-size:0.85rem}
        .header-right{text-align:right}.last-updated{color:var(--text-muted);font-size:0.85rem;font-family:'JetBrains Mono',monospace}.data-period{color:var(--text-secondary);font-size:0.9rem;margin-top:4px}
        .nav-tabs{display:flex;gap:8px;margin-bottom:24px;background:var(--bg-card);padding:8px;border-radius:12px;width:fit-content;flex-wrap:wrap}
        .nav-tab{padding:10px 20px;border-radius:8px;font-size:0.9rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;background:transparent;border:none;color:var(--text-secondary)}
        .nav-tab:hover{background:var(--bg-card-hover);color:var(--text-primary)}.nav-tab.active{background:var(--accent-blue);color:white}
        .tab-content{display:none}.tab-content.active{display:block}
        .kpi-row{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:32px}
        .kpi-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:16px;padding:24px;position:relative;overflow:hidden}
        .kpi-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,var(--accent-blue),var(--accent-purple))}
        .kpi-card.success::before{background:linear-gradient(90deg,var(--accent-green),#00cc6a)}
        .kpi-card.warning::before{background:linear-gradient(90deg,var(--accent-orange),#ff6b00)}
        .kpi-card.danger::before{background:linear-gradient(90deg,var(--accent-red),#ff2f43)}
        .kpi-label{font-size:0.85rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:0.05em;margin-bottom:8px}
        .kpi-value{font-size:2.2rem;font-weight:700;font-family:'JetBrains Mono',monospace;line-height:1}
        .kpi-value.green{color:var(--accent-green)}.kpi-value.red{color:var(--accent-red)}.kpi-value.orange{color:var(--accent-orange)}.kpi-value.yellow{color:var(--accent-yellow)}
        .kpi-subtext{font-size:0.8rem;color:var(--text-muted);margin-top:8px}
        .kpi-trend{display:inline-flex;align-items:center;gap:4px;font-size:0.85rem;margin-top:8px;padding:2px 8px;border-radius:4px}
        .kpi-trend.up{color:var(--accent-green);background:rgba(0,255,136,0.1)}
        .main-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:32px}
        .card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:16px;padding:24px}
        .card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
        .card-title{font-size:1.1rem;font-weight:600}
        .card-badge{font-size:0.75rem;padding:4px 10px;border-radius:12px;font-family:'JetBrains Mono',monospace}
        .badge-stations{background:rgba(55,66,250,0.2);color:var(--accent-blue)}
        .badge-dsps{background:rgba(168,85,247,0.2);color:var(--accent-purple)}
        .badge-trends{background:rgba(0,212,255,0.2);color:var(--accent-cyan)}
        .badge-insights{background:rgba(0,255,136,0.2);color:var(--accent-green)}
        .badge-sentiment{background:rgba(255,217,61,0.2);color:var(--accent-yellow)}
        .data-table{width:100%;border-collapse:collapse}
        .data-table th{text-align:left;padding:12px 8px;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted);border-bottom:1px solid var(--border-color);background:var(--bg-card)}
        .data-table td{padding:14px 8px;font-size:0.9rem;border-bottom:1px solid var(--border-color)}
        .data-table tr:hover td{background:rgba(55,66,250,0.05)}
        .station-name{font-weight:600;font-family:'JetBrains Mono',monospace}
        .status-pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:20px;font-size:0.75rem;font-weight:500}
        .status-pill.on-target{background:rgba(0,255,136,0.15);color:var(--accent-green)}
        .status-pill.below-target{background:rgba(255,71,87,0.15);color:var(--accent-red)}
        .status-dot{width:6px;height:6px;border-radius:50%;background:currentColor}
        .priority-pill{display:inline-block;padding:4px 10px;border-radius:12px;font-size:0.7rem;font-weight:600;text-transform:uppercase}
        .priority-critical{background:rgba(255,71,87,0.2);color:var(--accent-red)}
        .priority-high{background:rgba(255,165,2,0.2);color:var(--accent-orange)}
        .priority-medium{background:rgba(55,66,250,0.2);color:var(--accent-blue)}
        .priority-low{background:rgba(139,139,154,0.2);color:var(--text-secondary)}
        .priority-on-target{background:rgba(0,255,136,0.2);color:var(--accent-green)}
        .week-cell{font-family:'JetBrains Mono',monospace;font-size:0.8rem;text-align:center;min-width:55px;padding:6px 4px!important}
        .week-cell.high{color:var(--accent-green);background:rgba(0,255,136,0.1)}
        .week-cell.medium{color:var(--accent-orange);background:rgba(255,165,2,0.1)}
        .week-cell.low{color:var(--accent-red);background:rgba(255,71,87,0.1)}
        .week-cell.none{color:var(--text-muted)}
        .trend-arrow{display:inline-flex;align-items:center;gap:4px;font-size:0.85rem;font-family:'JetBrains Mono',monospace}
        .trend-arrow.up{color:var(--accent-green)}.trend-arrow.down{color:var(--accent-red)}.trend-arrow.flat{color:var(--text-muted)}
        .full-width{grid-column:1/-1}
        .action-list{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
        .action-card{background:var(--bg-card-hover);border:1px solid var(--border-color);border-radius:12px;padding:20px}
        .action-card.critical{border-left:3px solid var(--accent-red)}.action-card.high{border-left:3px solid var(--accent-orange)}
        .action-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}
        .action-dsp{font-size:1.5rem;font-weight:700;font-family:'JetBrains Mono',monospace}
        .action-station{background:var(--bg-dark);padding:4px 10px;border-radius:8px;font-size:0.8rem;font-family:'JetBrains Mono',monospace;color:var(--text-secondary)}
        .action-stats{display:flex;gap:16px;margin-bottom:12px}
        .action-stat{display:flex;flex-direction:column}
        .action-stat-label{font-size:0.7rem;color:var(--text-muted);text-transform:uppercase}
        .action-stat-value{font-size:1.1rem;font-weight:600;font-family:'JetBrains Mono',monospace}
        .action-stat-value.red{color:var(--accent-red)}.action-stat-value.orange{color:var(--accent-orange)}
        .action-location{font-size:0.85rem;color:var(--text-secondary);padding-top:12px;border-top:1px solid var(--border-color)}
        .chart-container{position:relative;height:300px;width:100%}.chart-container.tall{height:400px}
        .filter-row{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}
        .filter-btn{padding:6px 14px;border-radius:20px;font-size:0.8rem;font-weight:500;cursor:pointer;background:var(--bg-card-hover);border:1px solid var(--border-color);color:var(--text-secondary)}
        .filter-btn:hover,.filter-btn.active{background:var(--accent-blue);border-color:var(--accent-blue);color:white}
        .table-scroll{max-height:400px;overflow-y:auto}
        .wow-change{font-family:'JetBrains Mono',monospace;font-size:0.8rem;padding:2px 6px;border-radius:4px}
        .wow-change.positive{color:var(--accent-green);background:rgba(0,255,136,0.1)}
        .wow-change.negative{color:var(--accent-red);background:rgba(255,71,87,0.1)}
        .wow-change.neutral{color:var(--text-muted)}
        .insights-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}
        .insight-card{background:var(--bg-card-hover);border:1px solid var(--border-color);border-radius:12px;padding:20px;border-left:4px solid var(--accent-blue)}
        .insight-card.positive{border-left-color:var(--accent-green)}.insight-card.negative{border-left-color:var(--accent-red)}
        .insight-card.warning{border-left-color:var(--accent-orange)}.insight-card.info{border-left-color:var(--accent-cyan)}
        .insight-icon{font-size:1.5rem;margin-bottom:10px}.insight-title{font-size:1rem;font-weight:600;margin-bottom:8px;color:var(--text-primary)}
        .insight-text{font-size:0.9rem;color:var(--text-secondary);line-height:1.5}
        .insight-metric{display:inline-block;font-family:'JetBrains Mono',monospace;font-weight:600;padding:2px 6px;border-radius:4px;background:rgba(255,255,255,0.1)}
        .insight-metric.green{color:var(--accent-green)}.insight-metric.red{color:var(--accent-red)}.insight-metric.orange{color:var(--accent-orange)}
        .executive-summary{background:linear-gradient(135deg,rgba(55,66,250,0.1),rgba(168,85,247,0.1));border:1px solid var(--accent-blue);border-radius:12px;padding:24px;margin-bottom:24px}
        .executive-summary h3{font-size:1.2rem;margin-bottom:16px;color:var(--accent-cyan)}
        .executive-summary ul{list-style:none;padding:0}
        .executive-summary li{padding:8px 0;padding-left:24px;position:relative;color:var(--text-secondary);font-size:0.95rem;line-height:1.5}
        .executive-summary li::before{content:'‚Üí';position:absolute;left:0;color:var(--accent-blue)}
        .next-steps{background:var(--bg-card-hover);border:1px solid var(--border-color);border-radius:12px;padding:20px}
        .next-steps h4{font-size:1rem;margin-bottom:12px;color:var(--accent-orange)}
        .next-steps ol{padding-left:20px;color:var(--text-secondary)}.next-steps li{padding:6px 0;font-size:0.9rem}
        .sentiment-score{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;font-family:'JetBrains Mono',monospace;font-weight:700;font-size:1rem}
        .sentiment-score.score-5{background:rgba(0,255,136,0.2);color:var(--accent-green)}
        .sentiment-score.score-4{background:rgba(0,212,255,0.2);color:var(--accent-cyan)}
        .sentiment-score.score-3{background:rgba(255,217,61,0.2);color:var(--accent-yellow)}
        .sentiment-score.score-2{background:rgba(255,165,2,0.2);color:var(--accent-orange)}
        .sentiment-score.score-1{background:rgba(255,71,87,0.2);color:var(--accent-red)}
        .feedback-card{background:var(--bg-card-hover);border:1px solid var(--border-color);border-radius:12px;padding:20px;margin-bottom:16px}
        .feedback-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid var(--border-color);flex-wrap:wrap;gap:10px}
        .feedback-meta{display:flex;gap:16px;align-items:center;flex-wrap:wrap}.feedback-date{font-size:0.8rem;color:var(--text-muted)}
        .feedback-scores{display:flex;gap:8px}
        .score-mini{display:flex;flex-direction:column;align-items:center;gap:2px}
        .score-mini-label{font-size:0.6rem;color:var(--text-muted);text-transform:uppercase}
        .score-mini-value{font-family:'JetBrains Mono',monospace;font-weight:600;font-size:0.9rem}
        .feedback-text{font-size:0.9rem;color:var(--text-secondary);line-height:1.6;font-style:italic}
        .feedback-text.issue{border-left:3px solid var(--accent-red);padding-left:12px;margin-bottom:12px}
        .feedback-text.suggestion{border-left:3px solid var(--accent-cyan);padding-left:12px}
        .correlation-card{background:linear-gradient(135deg,rgba(255,217,61,0.1),rgba(255,165,2,0.1));border:1px solid var(--accent-yellow);border-radius:12px;padding:20px}
        .correlation-card h4{color:var(--accent-yellow);margin-bottom:12px}
        .correlation-item{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid var(--border-color);flex-wrap:wrap;gap:10px}
        .correlation-item:last-child{border-bottom:none}
        .correlation-dsp{font-family:'JetBrains Mono',monospace;font-weight:600}
        .correlation-metrics{display:flex;gap:20px}
        .correlation-metric{display:flex;flex-direction:column;align-items:center}
        .correlation-label{font-size:0.7rem;color:var(--text-muted)}
        .correlation-value{font-family:'JetBrains Mono',monospace;font-weight:600}
        @media(max-width:1200px){.kpi-row{grid-template-columns:repeat(3,1fr)}.action-list{grid-template-columns:repeat(2,1fr)}.insights-grid{grid-template-columns:1fr}}
        @media(max-width:900px){.main-grid{grid-template-columns:1fr}.kpi-row{grid-template-columns:repeat(2,1fr)}.action-list{grid-template-columns:1fr}}
        @media(max-width:600px){.header{flex-direction:column;gap:16px}.kpi-row{grid-template-columns:1fr}.nav-tabs{flex-wrap:wrap}}
    </style>
</head>
<body>
    <div class="bg-grid"></div>
    <div class="container">
        <header class="header">
            <div class="header-left">
                <h1>Kooner Adoption Dashboard</h1>
                <div class="subtitle"><span>Vendor Adoption Tracking</span><span class="target-badge">TARGET: 85%</span></div>
            </div>
            <div class="header-right">
                <div class="last-updated">Last Updated: 2026-02-04</div>
                <div class="data-period">Data Period: WK53 - WK5 (Dec 21 - Jan 31)</div>
            </div>
        </header>
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('overview')">üìä Overview</button>
            <button class="nav-tab" onclick="showTab('trends')">üìà Week-over-Week</button>
            <button class="nav-tab" onclick="showTab('stations')">üè¢ Stations</button>
            <button class="nav-tab" onclick="showTab('dsps')">üöõ DSPs</button>
            <button class="nav-tab" onclick="showTab('sentiment')">üí¨ DSP Sentiment</button>
            <button class="nav-tab" onclick="showTab('actions')">üéØ Actions</button>
        </div>

        <div id="overview" class="tab-content active">
            <div class="kpi-row">
                <div class="kpi-card"><div class="kpi-label">Total Kooner WOs</div><div class="kpi-value green">727</div><div class="kpi-subtext">Completed by Kooner</div></div>
                <div class="kpi-card warning"><div class="kpi-label">Total Leaked WOs</div><div class="kpi-value orange">594</div><div class="kpi-subtext">Sent to other vendors</div></div>
                <div class="kpi-card danger"><div class="kpi-label">Current Adoption</div><div class="kpi-value red">55.0%</div><div class="kpi-subtext">30.0% gap to target</div></div>
                <div class="kpi-card success"><div class="kpi-label">On Target Stations</div><div class="kpi-value green">4</div><div class="kpi-subtext">of 14 stations ‚â•85%</div></div>
                <div class="kpi-card"><div class="kpi-label">Total WOs</div><div class="kpi-value">1,321</div><div class="kpi-subtext">Across 14 stations</div></div>
            </div>
            <div class="main-grid">
                <div class="card"><div class="card-header"><div class="card-title">Weekly Kooner Volume</div><span class="card-badge badge-trends">6 WEEKS</span></div><div class="chart-container"><canvas id="weeklyBarChart"></canvas></div></div>
                <div class="card"><div class="card-header"><div class="card-title">Station Adoption Distribution</div></div><div class="chart-container"><canvas id="stationBarChart"></canvas></div></div>
                <div class="card"><div class="card-header"><div class="card-title">Station Status</div><span class="card-badge badge-stations">14 STATIONS</span></div><div class="table-scroll" style="max-height:300px"><table class="data-table"><thead><tr><th>Station</th><th>Adoption</th><th>Kooner</th><th>Leaked</th><th>Status</th></tr></thead><tbody id="stationQuickTable"></tbody></table></div></div>
                <div class="card"><div class="card-header"><div class="card-title">Top Opportunities</div><span class="card-badge badge-dsps">BY LEAKED WOs</span></div><div class="table-scroll" style="max-height:300px"><table class="data-table"><thead><tr><th>Station</th><th>Leaked</th><th>Adoption</th><th>Potential</th></tr></thead><tbody id="opportunityTable"></tbody></table></div></div>
            </div>
        </div>

        <div id="trends" class="tab-content">
            <div class="main-grid">
                <div class="card full-width">
                    <div class="card-header"><div class="card-title">üìã WBR Executive Summary</div><span class="card-badge badge-insights">UPDATED DATA</span></div>
                    <div class="executive-summary">
                        <h3>üéØ Key Takeaways</h3>
                        <ul>
                            <li><strong>Overall adoption at 55.0%</strong> ‚Äî 30% below the 85% target. 727 Kooner WOs vs 594 leaked.</li>
                            <li><strong>4 stations meeting target:</strong> HMK4 (100%), HSL1 (100%), HSD2 (100%), HCT2 (87.0%)</li>
                            <li><strong>HLA2 is the largest opportunity:</strong> 225 leaked WOs (38% of all leakage), only 40.3% adoption.</li>
                            <li><strong>HDT3 has highest volume</strong> but only 51.8% adoption with 120 leaked WOs.</li>
                            <li><strong>HPD1 is critical:</strong> Only 3.0% adoption (1 Kooner vs 32 leaked).</li>
                        </ul>
                    </div>
                    <div class="insights-grid">
                        <div class="insight-card positive"><div class="insight-icon">‚úÖ</div><div class="insight-title">On Target Stations</div><div class="insight-text"><span class="insight-metric green">HMK4, HSL1, HSD2, HCT2</span> ‚Äî 4 stations meeting 85%+ target.</div></div>
                        <div class="insight-card negative"><div class="insight-icon">üî¥</div><div class="insight-title">Critical: HPD1</div><div class="insight-text"><span class="insight-metric red">3.0% adoption</span> ‚Äî Only 1 Kooner WO vs 32 leaked. Needs immediate action.</div></div>
                        <div class="insight-card warning"><div class="insight-icon">üéØ</div><div class="insight-title">Biggest Opportunity: HLA2</div><div class="insight-text"><span class="insight-metric orange">225 leaked WOs</span> ‚Äî Improving HLA2 would add +17% to total Kooner WOs.</div></div>
                        <div class="insight-card info"><div class="insight-icon">üìä</div><div class="insight-title">Near Target</div><div class="insight-text"><span class="insight-metric">HDY1 (81.7%), HTP2 (79.8%), HHO3 (79.2%)</span> ‚Äî Close to 85% target.</div></div>
                    </div>
                    <div class="next-steps"><h4>üöÄ Recommended Actions</h4><ol><li><strong>HPD1:</strong> Emergency intervention ‚Äî identify blockers for 3% adoption</li><li><strong>HLA2:</strong> Focus on DSPs with highest leakage (ARMA, MDAS, BORN)</li><li><strong>HAU1:</strong> Dropped to 39.8% ‚Äî investigate recent decline</li><li><strong>Push near-target stations:</strong> HDY1, HTP2, HHO3 need small improvements</li></ol></div>
                </div>
                <div class="card full-width"><div class="card-header"><div class="card-title">üìà Weekly Kooner Volume by Station</div></div><div class="chart-container tall"><canvas id="stationWeeklyChart"></canvas></div></div>
                <div class="card full-width"><div class="card-header"><div class="card-title">Station Weekly Breakdown</div></div><div class="table-scroll"><table class="data-table"><thead><tr><th>Station</th><th>WK53</th><th>WK1</th><th>WK2</th><th>WK3</th><th>WK4</th><th>WK5</th><th>Total</th></tr></thead><tbody id="stationWeeklyTable"></tbody></table></div></div>
            </div>
        </div>

        <div id="stations" class="tab-content">
            <div class="main-grid">
                <div class="card full-width"><div class="card-header"><div class="card-title">Station Adoption Details</div><span class="card-badge badge-stations">14 STATIONS</span></div><table class="data-table"><thead><tr><th>Station</th><th>Location</th><th>Adoption</th><th>Kooner</th><th>Leaked</th><th>Total</th><th>Gap to 85%</th><th>Status</th></tr></thead><tbody id="stationFullTable"></tbody></table></div>
                <div class="card"><div class="card-header"><div class="card-title">Station Rankings</div></div><div class="chart-container tall"><canvas id="stationRankChart"></canvas></div></div>
                <div class="card"><div class="card-header"><div class="card-title">Leakage Distribution</div></div><div class="chart-container tall"><canvas id="leakageChart"></canvas></div></div>
            </div>
        </div>

        <div id="dsps" class="tab-content">
            <div class="main-grid">
                <div class="card full-width">
                    <div class="card-header"><div class="card-title">DSP Priority List</div><span class="card-badge badge-dsps">BY STATION</span></div>
                    <div class="filter-row">
                        <button class="filter-btn active" onclick="filterStations('all',this)">All Stations</button>
                        <button class="filter-btn" onclick="filterStations('HLA2',this)">HLA2</button>
                        <button class="filter-btn" onclick="filterStations('HDT3',this)">HDT3</button>
                        <button class="filter-btn" onclick="filterStations('HAU1',this)">HAU1</button>
                        <button class="filter-btn" onclick="filterStations('HCL2',this)">HCL2</button>
                        <button class="filter-btn" onclick="filterStations('HPD1',this)">HPD1</button>
                    </div>
                    <div class="table-scroll" style="max-height:500px"><table class="data-table"><thead><tr><th>Station</th><th>Adoption</th><th>Kooner</th><th>Leaked</th><th>Opportunity</th><th>Priority</th></tr></thead><tbody id="dspTable"></tbody></table></div>
                </div>
            </div>
        </div>

        <div id="sentiment" class="tab-content">
            <div class="kpi-row" style="grid-template-columns:repeat(4,1fr)">
                <div class="kpi-card"><div class="kpi-label">Survey Responses</div><div class="kpi-value">11</div><div class="kpi-subtext">From 7 DSPs</div></div>
                <div class="kpi-card warning"><div class="kpi-label">Avg Satisfaction</div><div class="kpi-value yellow">2.5</div><div class="kpi-subtext">out of 5.0</div></div>
                <div class="kpi-card warning"><div class="kpi-label">Avg Timeliness</div><div class="kpi-value orange">2.5</div><div class="kpi-subtext">out of 5.0</div></div>
                <div class="kpi-card warning"><div class="kpi-label">Avg Quality</div><div class="kpi-value orange">2.5</div><div class="kpi-subtext">out of 5.0</div></div>
            </div>
            <div class="main-grid">
                <div class="card"><div class="card-header"><div class="card-title">Sentiment by DSP</div></div><div class="chart-container"><canvas id="sentimentChart"></canvas></div></div>
                <div class="card"><div class="card-header"><div class="card-title">Sentiment vs Adoption</div></div><div class="chart-container"><canvas id="correlationChart"></canvas></div></div>
                <div class="card full-width"><div class="card-header"><div class="card-title">üéØ Key Themes</div></div><div class="insights-grid"><div class="insight-card negative"><div class="insight-icon">‚è±Ô∏è</div><div class="insight-title">Timeliness</div><div class="insight-text">PM completion 4+ days</div></div><div class="insight-card negative"><div class="insight-icon">üìÑ</div><div class="insight-title">Paperwork</div><div class="insight-text">Documentation delays</div></div><div class="insight-card warning"><div class="insight-icon">üí¨</div><div class="insight-title">Communication</div><div class="insight-text">Need proactive updates</div></div><div class="insight-card positive"><div class="insight-icon">‚≠ê</div><div class="insight-title">D4DS (5/5)</div><div class="insight-text">Very impressed with supervisor</div></div></div></div>
                <div class="card full-width"><div class="card-header"><div class="card-title">üí¨ Recent Feedback</div></div><div id="feedbackList"></div></div>
            </div>
        </div>

        <div id="actions" class="tab-content">
            <div class="main-grid">
                <div class="card full-width"><div class="card-header"><div class="card-title">üéØ Priority Actions by Leaked Volume</div></div><div class="action-list" id="actionList"></div></div>
                <div class="card full-width"><div class="card-header"><div class="card-title">üìã Station Action Plan</div></div><table class="data-table"><thead><tr><th>Priority</th><th>Station</th><th>Adoption</th><th>Leaked</th><th>Impact</th><th>Action</th></tr></thead><tbody id="actionTable"></tbody></table></div>
            </div>
        </div>
    </div>

    <script>
        // UPDATED DATA from new Kooner report
        var stationData = [
            {station:'HMK4',location:'',kooner:57,leaked:0,adoption:100.0},
            {station:'HSD2',location:'NEW',kooner:1,leaked:0,adoption:100.0},
            {station:'HSL1',location:'',kooner:20,leaked:0,adoption:100.0},
            {station:'HCT2',location:'',kooner:20,leaked:3,adoption:87.0},
            {station:'HDY1',location:'',kooner:49,leaked:11,adoption:81.7},
            {station:'HTP2',location:'Gibsonton, FL',kooner:67,leaked:17,adoption:79.8},
            {station:'HHO3',location:'Porter, TX',kooner:84,leaked:22,adoption:79.2},
            {station:'HMS2',location:'Lakeville, MN',kooner:35,leaked:27,adoption:56.5},
            {station:'HDT3',location:'Romulus, MI',kooner:129,leaked:120,adoption:51.8},
            {station:'HCL2',location:'Charlotte, NC',kooner:54,leaked:51,adoption:51.4},
            {station:'HIN3',location:'South Bend, IN',kooner:11,leaked:15,adoption:42.3},
            {station:'HLA2',location:'Santa Clarita, CA',kooner:152,leaked:225,adoption:40.3},
            {station:'HAU1',location:'Austin, TX',kooner:47,leaked:71,adoption:39.8},
            {station:'HPD1',location:'Portland, OR',kooner:1,leaked:32,adoption:3.0}
        ];

        var weeklyByStation = {
            'HAU1':{WK53:2,WK1:6,WK2:12,WK3:10,WK4:14,WK5:3,total:47},
            'HCL2':{WK53:1,WK1:1,WK2:5,WK3:29,WK4:8,WK5:10,total:54},
            'HCT2':{WK53:3,WK1:null,WK2:4,WK3:5,WK4:7,WK5:2,total:20},
            'HDT3':{WK53:18,WK1:9,WK2:15,WK3:17,WK4:26,WK5:44,total:129},
            'HDY1':{WK53:1,WK1:9,WK2:20,WK3:10,WK4:6,WK5:null,total:49},
            'HHO3':{WK53:9,WK1:6,WK2:22,WK3:13,WK4:19,WK5:15,total:84},
            'HIN3':{WK53:1,WK1:1,WK2:5,WK3:4,WK4:2,WK5:null,total:11},
            'HLA2':{WK53:17,WK1:9,WK2:20,WK3:23,WK4:42,WK5:41,total:152},
            'HMK4':{WK53:7,WK1:10,WK2:8,WK3:15,WK4:3,WK5:14,total:57},
            'HMS2':{WK53:2,WK1:2,WK2:6,WK3:5,WK4:11,WK5:9,total:35},
            'HPD1':{WK53:null,WK1:null,WK2:null,WK3:null,WK4:1,WK5:null,total:1},
            'HSD2':{WK53:null,WK1:null,WK2:null,WK3:null,WK4:1,WK5:null,total:1},
            'HSL1':{WK53:null,WK1:1,WK2:4,WK3:5,WK4:5,WK5:5,total:20},
            'HTP2':{WK53:13,WK1:3,WK2:20,WK3:8,WK4:16,WK5:7,total:67}
        };

        var weekTotals = {WK53:77,WK1:58,WK2:140,WK3:140,WK4:159,WK5:153};

        var sentimentData = [
            {dsp:'ALAB',station:'HDT3',responses:1,satisfaction:1.0,timeliness:1.0,quality:1.0,avgScore:1.0,adoption:51.8},
            {dsp:'ARMA',station:'HLA2',responses:4,satisfaction:2.0,timeliness:2.0,quality:2.0,avgScore:2.0,adoption:40.3},
            {dsp:'ORMP',station:'HTP2',responses:1,satisfaction:2.0,timeliness:2.0,quality:2.0,avgScore:2.0,adoption:79.8},
            {dsp:'MAEP',station:'HIN3',responses:1,satisfaction:2.0,timeliness:2.0,quality:3.0,avgScore:2.3,adoption:42.3},
            {dsp:'SFRM',station:'HDT3',responses:2,satisfaction:3.0,timeliness:2.5,quality:2.5,avgScore:2.7,adoption:51.8},
            {dsp:'PRLC',station:'HSL1',responses:1,satisfaction:4.0,timeliness:5.0,quality:3.0,avgScore:4.0,adoption:100},
            {dsp:'D4DS',station:'HCL2',responses:1,satisfaction:5.0,timeliness:5.0,quality:5.0,avgScore:5.0,adoption:51.4}
        ];

        var feedbackData = [
            {date:'Feb 2',dsp:'SFRM',station:'HDT3',satisfaction:3,timeliness:3,quality:3,issue:'',suggestion:'Need 2 day techs. Better communication.'},
            {date:'Jan 26',dsp:'ALAB',station:'HDT3',satisfaction:1,timeliness:1,quality:1,issue:'Lack of timely repairs.',suggestion:'Timely repairs needed.'},
            {date:'Jan 12',dsp:'D4DS',station:'HCL2',satisfaction:5,timeliness:5,quality:5,issue:'',suggestion:'Supervisor got more vehicles running in one evening than any mechanic in 5 years.'},
            {date:'Jan 6',dsp:'ORMP',station:'HTP2',satisfaction:2,timeliness:2,quality:2,issue:'No paperwork after 7 days.',suggestion:'Need schedule access.'},
            {date:'Jan 5',dsp:'ARMA',station:'HLA2',satisfaction:1,timeliness:1,quality:1,issue:'No work orders submitted.',suggestion:'Better communication.'}
        ];

        function showTab(tabId){
            document.querySelectorAll('.tab-content').forEach(function(c){c.classList.remove('active')});
            document.querySelectorAll('.nav-tab').forEach(function(t){t.classList.remove('active')});
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        function filterStations(filter,btn){
            document.querySelectorAll('.filter-btn').forEach(function(b){b.classList.remove('active')});
            btn.classList.add('active');
            populateDSPTable(filter);
        }

        function getScoreColor(s){if(s>=4)return'var(--accent-green)';if(s>=3)return'var(--accent-yellow)';if(s>=2)return'var(--accent-orange)';return'var(--accent-red)'}
        function getScoreClass(s){if(s>=4)return'score-'+Math.round(s);if(s>=3)return'score-3';if(s>=2)return'score-2';return'score-1'}

        function populateStationQuickTable(){
            var t=document.getElementById('stationQuickTable'),h='';
            var sorted=stationData.slice().sort(function(a,b){return b.adoption-a.adoption});
            for(var i=0;i<sorted.length;i++){var s=sorted[i],ot=s.adoption>=85;
            h+='<tr><td><span class="station-name">'+s.station+'</span></td><td style="color:'+(ot?'var(--accent-green)':'var(--accent-red)')+'">'+s.adoption.toFixed(1)+'%</td><td>'+s.kooner+'</td><td>'+s.leaked+'</td><td><span class="status-pill '+(ot?'on-target':'below-target')+'"><span class="status-dot"></span>'+(ot?'On Target':'Below')+'</span></td></tr>';}
            t.innerHTML=h;
        }

        function populateOpportunityTable(){
            var t=document.getElementById('opportunityTable'),h='';
            var sorted=stationData.slice().filter(function(s){return s.leaked>0}).sort(function(a,b){return b.leaked-a.leaked});
            for(var i=0;i<Math.min(sorted.length,8);i++){var s=sorted[i];
            var potential=((s.kooner+s.leaked)/(727+594)*100).toFixed(1);
            h+='<tr><td><span class="station-name">'+s.station+'</span></td><td style="color:var(--accent-red)">'+s.leaked+'</td><td>'+s.adoption.toFixed(1)+'%</td><td>'+potential+'% of total</td></tr>';}
            t.innerHTML=h;
        }

        function populateStationFullTable(){
            var t=document.getElementById('stationFullTable'),h='';
            var sorted=stationData.slice().sort(function(a,b){return b.adoption-a.adoption});
            for(var i=0;i<sorted.length;i++){var s=sorted[i],ot=s.adoption>=85,gap=85-s.adoption,total=s.kooner+s.leaked;
            h+='<tr><td><span class="station-name">'+s.station+'</span></td><td>'+(s.location||'‚Äî')+'</td><td style="color:'+(ot?'var(--accent-green)':'var(--accent-red)')+'">'+s.adoption.toFixed(1)+'%</td><td>'+s.kooner+'</td><td>'+s.leaked+'</td><td>'+total+'</td><td style="color:'+(gap>0?'var(--accent-red)':'var(--accent-green)')+'">'+(gap>0?'+':'')+gap.toFixed(1)+'%</td><td><span class="status-pill '+(ot?'on-target':'below-target')+'"><span class="status-dot"></span>'+(ot?'On Target':'Below')+'</span></td></tr>';}
            t.innerHTML=h;
        }

        function populateStationWeeklyTable(){
            var t=document.getElementById('stationWeeklyTable'),h='';
            var stations=Object.keys(weeklyByStation).sort(function(a,b){return weeklyByStation[b].total-weeklyByStation[a].total});
            for(var i=0;i<stations.length;i++){var st=stations[i],w=weeklyByStation[st];
            h+='<tr><td><span class="station-name">'+st+'</span></td><td>'+(w.WK53||'‚Äî')+'</td><td>'+(w.WK1||'‚Äî')+'</td><td>'+(w.WK2||'‚Äî')+'</td><td>'+(w.WK3||'‚Äî')+'</td><td>'+(w.WK4||'‚Äî')+'</td><td>'+(w.WK5||'‚Äî')+'</td><td><strong>'+w.total+'</strong></td></tr>';}
            h+='<tr style="background:var(--bg-card-hover)"><td><strong>TOTAL</strong></td><td><strong>'+weekTotals.WK53+'</strong></td><td><strong>'+weekTotals.WK1+'</strong></td><td><strong>'+weekTotals.WK2+'</strong></td><td><strong>'+weekTotals.WK3+'</strong></td><td><strong>'+weekTotals.WK4+'</strong></td><td><strong>'+weekTotals.WK5+'</strong></td><td><strong>727</strong></td></tr>';
            t.innerHTML=h;
        }

        function populateDSPTable(filter){
            filter=filter||'all';var t=document.getElementById('dspTable'),h='';
            var filtered=filter==='all'?stationData:stationData.filter(function(s){return s.station===filter});
            filtered=filtered.slice().sort(function(a,b){return b.leaked-a.leaked});
            for(var i=0;i<filtered.length;i++){var s=filtered[i];if(s.leaked===0)continue;
            var priority=s.adoption<20?'critical':s.adoption<50?'high':s.adoption<70?'medium':'low';
            var opp=(s.leaked/594*100).toFixed(1);
            h+='<tr><td><span class="station-name">'+s.station+'</span></td><td style="color:'+(s.adoption>=85?'var(--accent-green)':'var(--accent-red)')+'">'+s.adoption.toFixed(1)+'%</td><td>'+s.kooner+'</td><td>'+s.leaked+'</td><td>'+opp+'% of leakage</td><td><span class="priority-pill priority-'+priority+'">'+priority+'</span></td></tr>';}
            t.innerHTML=h;
        }

        function populateActionCards(){
            var c=document.getElementById('actionList'),h='';
            var sorted=stationData.slice().filter(function(s){return s.leaked>0}).sort(function(a,b){return b.leaked-a.leaked}).slice(0,6);
            for(var i=0;i<sorted.length;i++){var s=sorted[i];
            var priority=s.adoption<20?'critical':s.adoption<50?'high':'medium';
            h+='<div class="action-card '+priority+'"><div class="action-header"><span class="action-dsp">'+s.station+'</span><span class="action-station">'+(s.location||'‚Äî')+'</span></div><div class="action-stats"><div class="action-stat"><span class="action-stat-label">Adoption</span><span class="action-stat-value red">'+s.adoption.toFixed(1)+'%</span></div><div class="action-stat"><span class="action-stat-label">Leaked</span><span class="action-stat-value orange">'+s.leaked+'</span></div><div class="action-stat"><span class="action-stat-label">Kooner</span><span class="action-stat-value">'+s.kooner+'</span></div></div></div>';}
            c.innerHTML=h;
        }

        function populateActionTable(){
            var t=document.getElementById('actionTable'),h='';
            var sorted=stationData.slice().filter(function(s){return s.adoption<85}).sort(function(a,b){return a.adoption-b.adoption});
            for(var i=0;i<sorted.length;i++){var s=sorted[i];
            var priority=s.adoption<20?'critical':s.adoption<50?'high':s.adoption<70?'medium':'low';
            var impact=(s.leaked/594*100).toFixed(1);
            var action=s.adoption<20?'Emergency intervention':s.adoption<50?'Priority outreach':s.adoption<70?'Monitor & improve':'Push to target';
            h+='<tr><td><span class="priority-pill priority-'+priority+'">'+priority+'</span></td><td><span class="station-name">'+s.station+'</span></td><td style="color:var(--accent-red)">'+s.adoption.toFixed(1)+'%</td><td>'+s.leaked+'</td><td>'+impact+'%</td><td>'+action+'</td></tr>';}
            t.innerHTML=h;
        }

        function populateFeedbackList(){
            var c=document.getElementById('feedbackList'),h='';
            for(var i=0;i<feedbackData.length;i++){var f=feedbackData[i];
            h+='<div class="feedback-card"><div class="feedback-header"><div class="feedback-meta"><span class="station-name">'+f.dsp+'</span><span class="action-station">'+f.station+'</span><span class="feedback-date">'+f.date+'</span></div><div class="feedback-scores"><div class="score-mini"><span class="score-mini-label">Sat</span><span class="score-mini-value" style="color:'+getScoreColor(f.satisfaction)+'">'+f.satisfaction+'</span></div><div class="score-mini"><span class="score-mini-label">Time</span><span class="score-mini-value" style="color:'+getScoreColor(f.timeliness)+'">'+f.timeliness+'</span></div><div class="score-mini"><span class="score-mini-label">Qual</span><span class="score-mini-value" style="color:'+getScoreColor(f.quality)+'">'+f.quality+'</span></div></div></div>';
            if(f.issue)h+='<div class="feedback-text issue"><strong>Issue:</strong> '+f.issue+'</div>';
            if(f.suggestion)h+='<div class="feedback-text suggestion"><strong>Feedback:</strong> '+f.suggestion+'</div>';
            h+='</div>';}
            c.innerHTML=h;
        }

        function createCharts(){
            var colors=['#00ff88','#00d4ff','#3742fa','#a855f7','#ff4757','#ffa502','#ff6b81','#2ed573','#1e90ff','#ff9ff3','#54a0ff','#ffd93d','#c8d6e5','#576574'];
            
            // Weekly bar chart
            new Chart(document.getElementById('weeklyBarChart'),{
                type:'bar',
                data:{labels:['WK53','WK1','WK2','WK3','WK4','WK5'],datasets:[{label:'Kooner WOs',data:[77,58,140,140,159,153],backgroundColor:'rgba(0,255,136,0.7)',borderRadius:4}]},
                options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#8b8b9a'}}},scales:{y:{grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8b8b9a'}},x:{grid:{display:false},ticks:{color:'#8b8b9a'}}}}
            });

            // Station adoption bar chart
            var sortedStations=stationData.slice().sort(function(a,b){return b.adoption-a.adoption});
            new Chart(document.getElementById('stationBarChart'),{
                type:'bar',
                data:{labels:sortedStations.map(function(s){return s.station}),datasets:[{data:sortedStations.map(function(s){return s.adoption}),backgroundColor:sortedStations.map(function(s){return s.adoption>=85?'rgba(0,255,136,0.7)':'rgba(255,71,87,0.7)'}),borderRadius:4}]},
                options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',plugins:{legend:{display:false}},scales:{x:{beginAtZero:true,max:100,grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8b8b9a',callback:function(v){return v+'%'}}},y:{grid:{display:false},ticks:{color:'#8b8b9a'}}}}
            });

            // Station weekly stacked chart
            var weekLabels=['WK53','WK1','WK2','WK3','WK4','WK5'];
            var topStations=['HDT3','HLA2','HHO3','HTP2','HMK4','HCL2','HDY1','HAU1'];
            var datasets=topStations.map(function(st,i){
                var w=weeklyByStation[st];
                return{label:st,data:[w.WK53||0,w.WK1||0,w.WK2||0,w.WK3||0,w.WK4||0,w.WK5||0],backgroundColor:colors[i],borderRadius:2};
            });
            new Chart(document.getElementById('stationWeeklyChart'),{
                type:'bar',
                data:{labels:weekLabels,datasets:datasets},
                options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#8b8b9a'},position:'right'}},scales:{y:{stacked:true,grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8b8b9a'}},x:{stacked:true,grid:{display:false},ticks:{color:'#8b8b9a'}}}}
            });

            // Station rank chart
            new Chart(document.getElementById('stationRankChart'),{
                type:'bar',
                data:{labels:sortedStations.map(function(s){return s.station}),datasets:[{label:'Kooner',data:sortedStations.map(function(s){return s.kooner}),backgroundColor:'rgba(0,255,136,0.7)',borderRadius:2},{label:'Leaked',data:sortedStations.map(function(s){return s.leaked}),backgroundColor:'rgba(255,71,87,0.7)',borderRadius:2}]},
                options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',plugins:{legend:{labels:{color:'#8b8b9a'}}},scales:{x:{stacked:true,grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8b8b9a'}},y:{stacked:true,grid:{display:false},ticks:{color:'#8b8b9a'}}}}
            });

            // Leakage pie chart
            var leakStations=stationData.filter(function(s){return s.leaked>0}).sort(function(a,b){return b.leaked-a.leaked});
            new Chart(document.getElementById('leakageChart'),{
                type:'doughnut',
                data:{labels:leakStations.map(function(s){return s.station}),datasets:[{data:leakStations.map(function(s){return s.leaked}),backgroundColor:colors,borderWidth:0}]},
                options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'right',labels:{color:'#8b8b9a',padding:8}}},cutout:'60%'}
            });

            // Sentiment chart
            new Chart(document.getElementById('sentimentChart'),{
                type:'bar',
                data:{labels:sentimentData.map(function(d){return d.dsp}),datasets:[{label:'Satisfaction',data:sentimentData.map(function(d){return d.satisfaction}),backgroundColor:'rgba(168,85,247,0.7)',borderRadius:4},{label:'Timeliness',data:sentimentData.map(function(d){return d.timeliness}),backgroundColor:'rgba(0,212,255,0.7)',borderRadius:4},{label:'Quality',data:sentimentData.map(function(d){return d.quality}),backgroundColor:'rgba(255,217,61,0.7)',borderRadius:4}]},
                options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#8b8b9a'}}},scales:{y:{beginAtZero:true,max:5,grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8b8b9a'}},x:{grid:{display:false},ticks:{color:'#8b8b9a'}}}}
            });

            // Correlation scatter
            new Chart(document.getElementById('correlationChart'),{
                type:'scatter',
                data:{datasets:[{label:'DSPs',data:sentimentData.map(function(d){return{x:d.avgScore,y:d.adoption,label:d.dsp}}),backgroundColor:function(ctx){var v=ctx.raw;if(!v)return'#8b8b9a';if(v.y>=85)return'rgba(0,255,136,0.8)';if(v.y>=50)return'rgba(255,165,2,0.8)';return'rgba(255,71,87,0.8)'},pointRadius:12,pointHoverRadius:15}]},
                options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{callbacks:{label:function(ctx){var p=ctx.raw;return p.label+': '+p.x.toFixed(1)+' sent, '+p.y.toFixed(1)+'% adopt'}}}},scales:{y:{beginAtZero:true,max:100,title:{display:true,text:'Adoption %',color:'#8b8b9a'},grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8b8b9a',callback:function(v){return v+'%'}}},x:{beginAtZero:true,max:5,title:{display:true,text:'Sentiment',color:'#8b8b9a'},grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8b8b9a'}}}}
            });
        }

        document.addEventListener('DOMContentLoaded',function(){
            populateStationQuickTable();
            populateOpportunityTable();
            populateStationFullTable();
            populateStationWeeklyTable();
            populateDSPTable('all');
            populateActionCards();
            populateActionTable();
            populateFeedbackList();
            createCharts();
        });
    </script>
</body>
</html>
